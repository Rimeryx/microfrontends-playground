export function getContainerElementAndSetTemplate(options, props) {
    const domElementGetter = chooseDomElementGetter(options, props);
    if ((typeof ngDevMode === 'undefined' || ngDevMode) && !domElementGetter) {
        throw Error(`Cannot mount angular application '${props.name || props.appName}' without a domElementGetter provided either as an opt or a prop`);
    }
    const containerElement = getContainerElement(domElementGetter, props);
    containerElement.innerHTML = options.template;
    return containerElement;
}
function getContainerElement(domElementGetter, props) {
    const element = domElementGetter(props);
    if ((typeof ngDevMode === 'undefined' || ngDevMode) && !element) {
        throw Error('domElementGetter did not return a valid dom element');
    }
    return element;
}
function chooseDomElementGetter(opts, props) {
    props = props?.customProps ?? props;
    if (props.domElement) {
        return () => props.domElement;
    }
    else if (props.domElementGetter) {
        return props.domElementGetter;
    }
    else if (opts.domElementGetter) {
        return opts.domElementGetter;
    }
    else {
        return defaultDomElementGetter(props.name);
    }
}
function defaultDomElementGetter(name) {
    return function getDefaultDomElement() {
        const id = `single-spa-application:${name}`;
        let domElement = document.getElementById(id);
        if (!domElement) {
            domElement = document.createElement('div');
            domElement.id = id;
            document.body.appendChild(domElement);
        }
        return domElement;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGlicy9zaW5nbGUtc3BhLWFuZ3VsYXIvaW50ZXJuYWxzL3NyYy9kb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTUEsTUFBTSxVQUFVLGlDQUFpQyxDQUMvQyxPQUFVLEVBQ1YsS0FBVTtJQUVWLE1BQU0sZ0JBQWdCLEdBQUcsc0JBQXNCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRWhFLElBQUksQ0FBQyxPQUFPLFNBQVMsS0FBSyxXQUFXLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3pFLE1BQU0sS0FBSyxDQUNULHFDQUNFLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLE9BQ3RCLGtFQUFrRSxDQUNuRSxDQUFDO0lBQ0osQ0FBQztJQUVELE1BQU0sZ0JBQWdCLEdBQUcsbUJBQW1CLENBQUMsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdEUsZ0JBQWdCLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDOUMsT0FBTyxnQkFBZ0IsQ0FBQztBQUMxQixDQUFDO0FBRUQsU0FBUyxtQkFBbUIsQ0FBQyxnQkFBa0MsRUFBRSxLQUFVO0lBQ3pFLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRXhDLElBQUksQ0FBQyxPQUFPLFNBQVMsS0FBSyxXQUFXLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNoRSxNQUFNLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDO0FBRUQsU0FBUyxzQkFBc0IsQ0FDN0IsSUFBTyxFQUNQLEtBQVU7SUFFVixLQUFLLEdBQUcsS0FBSyxFQUFFLFdBQVcsSUFBSSxLQUFLLENBQUM7SUFFcEMsSUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDckIsT0FBTyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO0lBQ2hDLENBQUM7U0FBTSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ2xDLE9BQU8sS0FBSyxDQUFDLGdCQUFnQixDQUFDO0lBQ2hDLENBQUM7U0FBTSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ2pDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQy9CLENBQUM7U0FBTSxDQUFDO1FBQ04sT0FBTyx1QkFBdUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0MsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLHVCQUF1QixDQUFDLElBQVk7SUFDM0MsT0FBTyxTQUFTLG9CQUFvQjtRQUNsQyxNQUFNLEVBQUUsR0FBRywwQkFBMEIsSUFBSSxFQUFFLENBQUM7UUFDNUMsSUFBSSxVQUFVLEdBQXVCLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFakUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2hCLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzNDLFVBQVUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1lBQ25CLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFFRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRG9tRWxlbWVudEdldHRlciwgQmFzZVNpbmdsZVNwYUFuZ3VsYXJPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIFRoaXMgd2lsbCBiZSBwcm92aWRlZCB0aHJvdWdoIFRlcnNlciBnbG9iYWwgZGVmaW5pdGlvbnMgYnkgQW5ndWxhciBDTEkuIFRoaXMgd2lsbFxuLy8gaGVscCB0byB0cmVlLXNoYWtlIGF3YXkgdGhlIGNvZGUgdW5uZWVkZWQgZm9yIHByb2R1Y3Rpb24gYnVuZGxlcy5cbmRlY2xhcmUgY29uc3QgbmdEZXZNb2RlOiBib29sZWFuO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGFpbmVyRWxlbWVudEFuZFNldFRlbXBsYXRlPFQgZXh0ZW5kcyBCYXNlU2luZ2xlU3BhQW5ndWxhck9wdGlvbnM+KFxuICBvcHRpb25zOiBULFxuICBwcm9wczogYW55LFxuKTogSFRNTEVsZW1lbnQge1xuICBjb25zdCBkb21FbGVtZW50R2V0dGVyID0gY2hvb3NlRG9tRWxlbWVudEdldHRlcihvcHRpb25zLCBwcm9wcyk7XG5cbiAgaWYgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmICFkb21FbGVtZW50R2V0dGVyKSB7XG4gICAgdGhyb3cgRXJyb3IoXG4gICAgICBgQ2Fubm90IG1vdW50IGFuZ3VsYXIgYXBwbGljYXRpb24gJyR7XG4gICAgICAgIHByb3BzLm5hbWUgfHwgcHJvcHMuYXBwTmFtZVxuICAgICAgfScgd2l0aG91dCBhIGRvbUVsZW1lbnRHZXR0ZXIgcHJvdmlkZWQgZWl0aGVyIGFzIGFuIG9wdCBvciBhIHByb3BgLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBjb250YWluZXJFbGVtZW50ID0gZ2V0Q29udGFpbmVyRWxlbWVudChkb21FbGVtZW50R2V0dGVyLCBwcm9wcyk7XG4gIGNvbnRhaW5lckVsZW1lbnQuaW5uZXJIVE1MID0gb3B0aW9ucy50ZW1wbGF0ZTtcbiAgcmV0dXJuIGNvbnRhaW5lckVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGdldENvbnRhaW5lckVsZW1lbnQoZG9tRWxlbWVudEdldHRlcjogRG9tRWxlbWVudEdldHRlciwgcHJvcHM6IGFueSk6IG5ldmVyIHwgSFRNTEVsZW1lbnQge1xuICBjb25zdCBlbGVtZW50ID0gZG9tRWxlbWVudEdldHRlcihwcm9wcyk7XG5cbiAgaWYgKCh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpICYmICFlbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ2RvbUVsZW1lbnRHZXR0ZXIgZGlkIG5vdCByZXR1cm4gYSB2YWxpZCBkb20gZWxlbWVudCcpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGNob29zZURvbUVsZW1lbnRHZXR0ZXI8VCBleHRlbmRzIEJhc2VTaW5nbGVTcGFBbmd1bGFyT3B0aW9ucz4oXG4gIG9wdHM6IFQsXG4gIHByb3BzOiBhbnksXG4pOiBEb21FbGVtZW50R2V0dGVyIHtcbiAgcHJvcHMgPSBwcm9wcz8uY3VzdG9tUHJvcHMgPz8gcHJvcHM7XG5cbiAgaWYgKHByb3BzLmRvbUVsZW1lbnQpIHtcbiAgICByZXR1cm4gKCkgPT4gcHJvcHMuZG9tRWxlbWVudDtcbiAgfSBlbHNlIGlmIChwcm9wcy5kb21FbGVtZW50R2V0dGVyKSB7XG4gICAgcmV0dXJuIHByb3BzLmRvbUVsZW1lbnRHZXR0ZXI7XG4gIH0gZWxzZSBpZiAob3B0cy5kb21FbGVtZW50R2V0dGVyKSB7XG4gICAgcmV0dXJuIG9wdHMuZG9tRWxlbWVudEdldHRlcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVmYXVsdERvbUVsZW1lbnRHZXR0ZXIocHJvcHMubmFtZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdERvbUVsZW1lbnRHZXR0ZXIobmFtZTogc3RyaW5nKTogRG9tRWxlbWVudEdldHRlciB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXREZWZhdWx0RG9tRWxlbWVudCgpIHtcbiAgICBjb25zdCBpZCA9IGBzaW5nbGUtc3BhLWFwcGxpY2F0aW9uOiR7bmFtZX1gO1xuICAgIGxldCBkb21FbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICBpZiAoIWRvbUVsZW1lbnQpIHtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRvbUVsZW1lbnQuaWQgPSBpZDtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbUVsZW1lbnQ7XG4gIH07XG59XG4iXX0=